{"version":3,"sources":["webpack:///./src/assets/logo.png","webpack:///./src/App.vue?e77b","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/HelloWorld.vue?3ba4","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/HelloWorld.vue","webpack:///src/components/videoRecord.vue","webpack:///./src/components/videoRecord.vue?ae71","webpack:///./src/components/videoRecord.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/MediaStreamRecorder.js"],"names":["module","exports","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","src","__webpack_require__","_v","staticRenderFns","src_App","normalizeComponent","name","ssrContext","components_HelloWorld","_vm","staticClass","_s","msg","_m","href","target","src_components_HelloWorld","HelloWorld_normalizeComponent","data","videoRecord","props","isAudioRecording","timelimit","url","mcounter","recording","intervaltimerid","tiptext","mediaRecorder","mediaConstraints","audio","methods","handleClick","_this","that","console","log","captureRecord","setInterval","stop","stream","onMediaError","e","clearInterval","$message","error","onMediaSuccess","MediaStreamRecorder","mimeType","_that","ondataavailable","blob","URL","createObjectURL","handelEndRecord","start","navigator","mediaDevices","getUserMedia","then","catch","linit","webkitGetUserMedia","mozGetUserMedia","param","onMediaSuccessl","blobURL","document","write","onMediaError1","components_videoRecord","title","visible","modal","show-close","closeOnClickModal","on","update:visible","$event","click","controls","slot","type","handleAddSure","src_components_videoRecord","videoRecord_normalizeComponent","Vue","use","Router","router","routes","path","component","HelloWorld","config","productionTip","el","components","App","template","global","d","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","n","mediaStream","timeSlice","Recorder","MediaRecorder","MediaRecorderWrapper","IsChrome","IsOpera","IsEdge","indexOf","WhammyRecorder","StereoAudioRecorder","GifRecorder","recorderType","blobs","self","push","onstop","onStartedDrawingNonBlankFrames","mergein","mergeto","t","mergeProps","clearOldRecordedFrames","disableLogs","warn","save","file","fileName","invokeSaveAsDialog","ConcatenateBlobs","concatenatedBlob","pause","resume","MultiStreamRecorder","arrayOfMediaStreams","options","MediaStream","mixer","video","width","height","frameInterval","tracks","prop","videos","isStopDrawingFrames","canvas","createElement","context","getContext","style","body","documentElement","appendChild","useGainNode","AudioContext","window","webkitAudioContext","mozAudioContext","webkitURL","webkitMediaStream","prototype","getVideoTracks","getTracks","forEach","track","kind","toString","getAudioTracks","Storage","drawVideosToCanvas","videosLength","length","fullcanvas","remaining","HTMLVideoElement","drawImage","idx","setTimeout","x","y","left","top","onRender","getVideo","srcObject","muted","volume","play","resetVideoStreams","streams","startDrawingFrames","appendStreams","Array","concat","audioContext","audioSource","createMediaStreamSource","connect","audioDestination","audioSources","releaseStreams","gainNode","disconnect","source","clearRect","getMixedStream","mixedVideoStream","capturedStream","captureStream","mozCaptureStream","videoStream","addTrack","getMixedVideoStream","mixedAudioStream","AudioContextConstructor","createGain","destination","gain","value","audioTracksLength","createMediaStreamDestination","getMixedAudioStream","previewStream","callback","clearRecordedData","addStreams","addStream","browserFakeUserAgent","userAgent","location","protocol","hash","screen","msSaveBlob","msSaveOrOpenBlob","opera","fileExtension","split","splitted","fileFullName","Math","round","random","hyperlink","download","onclick","removeChild","evt","MouseEvent","view","bubbles","cancelable","dispatchEvent","revokeObjectURL","bytesToSize","bytes","i","parseInt","floor","pow","toPrecision","ObjectStore","__disableLogs","dontFireOnDataAvailableEvent","recorderHints","isOpera","isChrome","chrome","InstallTrigger","appVersion","verOffset","ix","nAgt","fullVersion","parseFloat","majorVersion","substring","isNaN","isMediaRecorderCompatible","canRecordMimeType","ignoreMutedMedia","firedOnDataAvailableOnce","size","getNativeBlob","Blob","state","onerror","requestData","timeslice","looper","active","ended","isMediaStreamActive","timeout","StereoAudioRecorderHelper","record","clearTimeout","root","deviceSampleRate","sampleRate","scriptprocessornode","leftchannel","rightchannel","recordingLength","isPCM","numChannels","audioChannels","mergeBuffers","channelBuffer","result","Float32Array","offset","lng","buffer","set","writeUTFBytes","string","setUint8","charCodeAt","isPaused","requestDataInvoked","internalLeftChannel","slice","internalRightChannel","internalRecordingLength","leftBuffer","interleaved","leftChannel","rightChannel","inputIndex","index","interleave","l","buf","Int16Array","convertoFloat32ToInt16","debug","ArrayBuffer","DataView","setUint32","setUint16","setInt16","audioInput","VolumeGainNode","AudioInput","bufferSize","createJavaScriptNode","createScriptProcessor","onaudioprocess","inputBuffer","getChannelData","right","WhammyRecorderHelper","videoWidth","clientWidth","videoHeight","clientHeight","isHTMLObject","cloneNode","lastTime","Date","getTime","whammy","Whammy","Video","speed","quality","drawFrames","frames","internalFrames","_frames","_framesToCheck","_pixTolerance","_frameTolerance","localCanvas","context2d","resultFrames","checkUntilNotBlack","endCheckFrame","sampleColor","r","g","b","maxColorDifference","sqrt","pixTolerance","frameTolerance","doNotCheckNext","f","matchPixCount","endPixCheck","maxPixCount","image","Image","imageData","getImageData","pix","currentColor","colorDifference","dropBlackFrames","compile","whammyBlob","isOnStartedDrawingNonBlankFramesInvoked","isStopDrawing","duration","paused","toDataURL","frame","isBlankFrame","GIFEncoder","doneRecording","now","gifBlob","Uint8Array","gifEncoder","bin","imageWidth","imageHeight","setRepeat","setDelay","frameRate","setQuality","lastAnimationFrame","requestAnimationFrame","drawVideoFrame","time","undefined","lastFrameTime","addFrame","cancelAnimationFrame","autoplay","WhammyVideo","whammyInWebWorker","getClusterData","clusterTimecode","clusterCounter","clusterFrames","map","webp","block","flags","keyframe","invisible","lacing","discardable","trackNum","timecode","String","fromCharCode","join","makeSimpleBlock","numToBuffer","num","parts","reverse","bitsToBuffer","bits","substr","getStrLength","unpadded","webm","info","postMessage","checkFrames","EBML","call","Float64Array","frameNumber","clusterDuration","cluster","generateEBML","json","ebml","len","byteLength","zeroes","ceil","sizeToString","padded","riff","VP8","RIFF","WEBP","frameStart","c","parseWebP","parseRIFF","chunks","atob","add","test","_function","worker","webWorker","Worker","onmessage","event","buffers","readAsArrayBuffer","tmp","Uint16Array","lastOffset","reusableByteLength","concatenateBuffers","reader","FileReader","onload"],"mappings":"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","file":"static/js/app.49768321608c338aa834.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/logo.png\n// module id = 7Otq\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('img',{attrs:{\"src\":require(\"./assets/logo.png\")}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c97dd40\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c97dd40\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c97dd40\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <img src=\"./assets/logo.png\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(\"Essential Links\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('h2',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Core Docs\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Forum\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Community Chat\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Twitter\\n      \")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuejs-templates.github.io/webpack/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Docs for This Template\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"http://router.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-router\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuex.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vuex\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vue-loader.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-loader\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\"}},[_vm._v(\"\\n        awesome-vue\\n      \")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d8ec41bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d8ec41bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d8ec41bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d8ec41bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>Essential Links</h2>\n    <ul>\n      <li>\n        <a\n          href=\"https://vuejs.org\"\n          target=\"_blank\"\n        >\n          Core Docs\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://forum.vuejs.org\"\n          target=\"_blank\"\n        >\n          Forum\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://chat.vuejs.org\"\n          target=\"_blank\"\n        >\n          Community Chat\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://twitter.com/vuejs\"\n          target=\"_blank\"\n        >\n          Twitter\n        </a>\n      </li>\n      <br>\n      <li>\n        <a\n          href=\"http://vuejs-templates.github.io/webpack/\"\n          target=\"_blank\"\n        >\n          Docs for This Template\n        </a>\n      </li>\n    </ul>\n    <h2>Ecosystem</h2>\n    <ul>\n      <li>\n        <a\n          href=\"http://router.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-router\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vuex.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vuex\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vue-loader.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-loader\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://github.com/vuejs/awesome-vue\"\n          target=\"_blank\"\n        >\n          awesome-vue\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","<template>\r\n  <div class=\"addlabelbox\">\r\n    <el-dialog\r\n      title=\"\"\r\n      :visible.sync=\"isAudioRecording\"\r\n      :modal=\"false\"\r\n      :show-close=\"false\"\r\n      :closeOnClickModal=\"false\"\r\n    >\r\n      <div class=\"vieoRecord\">\r\n        <div class=\"diagold\"></div>\r\n        <div>     </div>\r\n        <div class=\"contro\">\r\n          <button @click=\"handleClick\"></button>\r\n          <!-- <button @click=\"handelEndRecord\"></button> -->\r\n        </div>\r\n        <span>{{tiptext}}</span>\r\n        <audio :src=\"url\" controls></audio>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"handleAddSure('ruleForm')\"></el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { MediaStreamRecorder } from \"./MediaStreamRecorder.js\";\r\nexport default {\r\n  name: \"MRecorder\",\r\n  props: {\r\n    // timelimit: {\r\n    //   default: 60, // 1min\r\n    //   type: Number\r\n    // },\r\n    // pushurl: {\r\n    //   default: \"\", // \r\n    //   type: String\r\n    // }\r\n    // isAudioRecording: {\r\n    //   type: Boolean\r\n    // }\r\n  },\r\n  data() {\r\n    return {\r\n      isAudioRecording: true,\r\n      timelimit: 60,\r\n      url: \"\",\r\n      mcounter: 0, // \r\n      recording: false, // \r\n      intervaltimerid: \"\", // \r\n      tiptext: \"\", // \r\n      mediaRecorder: null, // \r\n      mediaConstraints: {\r\n        audio: true\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    // \r\n    handleClick() {\r\n      var that = this;\r\n      this.recording = !this.recording;\r\n      console.log(this.recording);\r\n      // \r\n      if (this.recording === true) {\r\n        this.mcounter = 0;\r\n        this.tiptext = \" \" + this.mcounter + \"s\";\r\n        this.captureRecord();\r\n        this.intervaltimerid = setInterval(() => {\r\n          // \r\n          that.mcounter = that.mcounter + 1;\r\n          this.tiptext = \" \" + that.mcounter + \"s\";\r\n          //   console.log(this.mediaRecorder);\r\n        }, 1000);\r\n      } else {\r\n        // \r\n        this.tiptext = \"\";\r\n        this.mediaRecorder.stop();\r\n        this.mediaRecorder.stream.stop();\r\n      }\r\n    },\r\n    // \r\n    onMediaError(e) {\r\n      console.log(\"~...\", e);\r\n      clearInterval(this.intervaltimerid);\r\n      this.tiptext = \"\";\r\n      this.recording = false;\r\n      this.$message.error(\"\");\r\n    },\r\n    // \r\n    onMediaSuccess(stream) {\r\n      console.log(stream);\r\n      this.mediaRecorder = new MediaStreamRecorder(stream);\r\n      // \r\n      this.mediaRecorder.stream = stream;\r\n      this.mediaRecorder.mimeType = \"audio/wav\";\r\n      var _that = this;\r\n      this.mediaRecorder.ondataavailable = function(blob) {\r\n        clearInterval(_that.intervaltimerid);\r\n        const url = URL.createObjectURL(blob);\r\n        console.log(url);\r\n        _that.handelEndRecord(url);\r\n      };\r\n      // \r\n      this.mediaRecorder.start(this.timelimit * 1000);\r\n    },\r\n    // \r\n    captureRecord() {\r\n      navigator.mediaDevices\r\n        .getUserMedia(this.mediaConstraints)\r\n        .then(this.onMediaSuccess)\r\n        .catch(this.onMediaError);\r\n    },\r\n    linit() {\r\n      navigator.getUserMedia =\r\n        navigator.getUserMedia ||\r\n        navigator.webkitGetUserMedia ||\r\n        navigator.mozGetUserMedia;\r\n      function getStreamSuccess(stream) {\r\n        console.log(\".......\");\r\n      }\r\n      function getStreamError(stream) {}\r\n\r\n      if (navigator.getUserMedia) {\r\n      }\r\n    },\r\n    handelEndRecord(param) {\r\n      console.log(param);\r\n      this.url = param;\r\n    },\r\n\r\n    onMediaSuccessl(stream) {\r\n      var mediaRecorder = new MediaStreamRecorder(stream);\r\n      mediaRecorder.mimeType = \"video/wav\";\r\n      mediaRecorder.ondataavailable = function(blob) {\r\n        // POST/PUT \"Blob\" using FormData/XHR2\r\n        var blobURL = URL.createObjectURL(blob);\r\n        document.write(\r\n          '&lt;a href=\"' + blobURL + '\"&gt;' + blobURL + \"&lt;/a&gt;\"\r\n        );\r\n      };\r\n      mediaRecorder.start(3000);\r\n    },\r\n\r\n    onMediaError1(e) {\r\n      console.error(\"media error\", e);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style >\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/videoRecord.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addlabelbox\"},[_c('el-dialog',{attrs:{\"title\":\"\",\"visible\":_vm.isAudioRecording,\"modal\":false,\"show-close\":false,\"closeOnClickModal\":false},on:{\"update:visible\":function($event){_vm.isAudioRecording=$event}}},[_c('div',{staticClass:\"vieoRecord\"},[_c('div',{staticClass:\"diagold\"}),_vm._v(\" \"),_c('div',[_vm._v(\"     \")]),_vm._v(\" \"),_c('div',{staticClass:\"contro\"},[_c('button',{on:{\"click\":_vm.handleClick}},[_vm._v(\"\")])]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.tiptext))]),_vm._v(\" \"),_c('audio',{attrs:{\"src\":_vm.url,\"controls\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAddSure('ruleForm')}}},[_vm._v(\"\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c25bc68\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/videoRecord.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c25bc68\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./videoRecord.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./videoRecord.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./videoRecord.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c25bc68\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./videoRecord.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/videoRecord.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\nimport videoRecord from '@/components/videoRecord'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'videoRecord',\n      component: videoRecord\n    },\n    {\n      path: '/hello',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","'use strict';\n\n// Last time updated: 2017-08-31 4:03:22 AM UTC\n\n// __________________________\n// MediaStreamRecorder v1.3.4\n\n// Open-Sourced: https://github.com/streamproc/MediaStreamRecorder\n\n// --------------------------------------------------\n// Muaz Khan     - www.MuazKhan.com\n// MIT License   - www.WebRTC-Experiment.com/licence\n// --------------------------------------------------\n\n// ______________________\n// MediaStreamRecorder.js\n\nlet MediaStreamRecorder = function MediaStreamRecorder(mediaStream) {\n    if (!mediaStream) {\n        throw 'MediaStream is mandatory.';\n    }\n\n    // void start(optional long timeSlice)\n    // timestamp to fire \"ondataavailable\"\n    this.start = function (timeSlice) {\n        var Recorder;\n\n        if (typeof MediaRecorder !== 'undefined') {\n            Recorder = MediaRecorderWrapper;\n        } else if (IsChrome || IsOpera || IsEdge) {\n            if (this.mimeType.indexOf('video') !== -1) {\n                Recorder = WhammyRecorder;\n            } else if (this.mimeType.indexOf('audio') !== -1) {\n                Recorder = StereoAudioRecorder;\n            }\n        }\n\n        // video recorder (in GIF format)\n        if (this.mimeType === 'image/gif') {\n            Recorder = GifRecorder;\n        }\n\n        // audio/wav is supported only via StereoAudioRecorder\n        // audio/pcm (int16) is supported only via StereoAudioRecorder\n        if (this.mimeType === 'audio/wav' || this.mimeType === 'audio/pcm') {\n            Recorder = StereoAudioRecorder;\n        }\n\n        // allows forcing StereoAudioRecorder.js on Edge/Firefox\n        if (this.recorderType) {\n            Recorder = this.recorderType;\n        }\n\n        mediaRecorder = new Recorder(mediaStream);\n        mediaRecorder.blobs = [];\n\n        var self = this;\n        mediaRecorder.ondataavailable = function (data) {\n            mediaRecorder.blobs.push(data);\n            self.ondataavailable(data);\n        };\n        mediaRecorder.onstop = this.onstop;\n        mediaRecorder.onStartedDrawingNonBlankFrames = this.onStartedDrawingNonBlankFrames;\n\n        // Merge all data-types except \"function\"\n        mediaRecorder = mergeProps(mediaRecorder, this);\n\n        mediaRecorder.start(timeSlice);\n    };\n\n    this.onStartedDrawingNonBlankFrames = function () { };\n    this.clearOldRecordedFrames = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        mediaRecorder.clearOldRecordedFrames();\n    };\n\n    this.stop = function () {\n        if (mediaRecorder) {\n            mediaRecorder.stop();\n        }\n    };\n\n    this.ondataavailable = function (blob) {\n        if (this.disableLogs) return;\n        console.log('ondataavailable..', blob);\n    };\n\n    this.onstop = function (error) {\n        console.warn('stopped..', error);\n    };\n\n    this.save = function (file, fileName) {\n        if (!file) {\n            if (!mediaRecorder) {\n                return;\n            }\n\n            ConcatenateBlobs(mediaRecorder.blobs, mediaRecorder.blobs[0].type, function (concatenatedBlob) {\n                invokeSaveAsDialog(concatenatedBlob);\n            });\n            return;\n        }\n        invokeSaveAsDialog(file, fileName);\n    };\n\n    this.pause = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n        mediaRecorder.pause();\n\n        if (this.disableLogs) return;\n        console.log('Paused recording.', this.mimeType || mediaRecorder.mimeType);\n    };\n\n    this.resume = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n        mediaRecorder.resume();\n\n        if (this.disableLogs) return;\n        console.log('Resumed recording.', this.mimeType || mediaRecorder.mimeType);\n    };\n\n    // StereoAudioRecorder || WhammyRecorder || MediaRecorderWrapper || GifRecorder\n    this.recorderType = null;\n\n    // video/webm or audio/webm or audio/ogg or audio/wav\n    this.mimeType = 'video/webm';\n\n    // logs are enabled by default\n    this.disableLogs = false;\n\n    // Reference to \"MediaRecorder.js\"\n    var mediaRecorder;\n}\n\n// ______________________\n// MultiStreamRecorder.js\n\nfunction MultiStreamRecorder(arrayOfMediaStreams, options) {\n    arrayOfMediaStreams = arrayOfMediaStreams || [];\n\n    if (arrayOfMediaStreams instanceof MediaStream) {\n        arrayOfMediaStreams = [arrayOfMediaStreams];\n    }\n\n    var self = this;\n\n    var mixer;\n    var mediaRecorder;\n\n    options = options || {\n        mimeType: 'video/webm',\n        video: {\n            width: 360,\n            height: 240\n        }\n    };\n\n    if (!options.frameInterval) {\n        options.frameInterval = 10;\n    }\n\n    if (!options.video) {\n        options.video = {};\n    }\n\n    if (!options.video.width) {\n        options.video.width = 360;\n    }\n\n    if (!options.video.height) {\n        options.video.height = 240;\n    }\n\n    this.start = function (timeSlice) {\n        // github/muaz-khan/MultiStreamsMixer\n        mixer = new MultiStreamsMixer(arrayOfMediaStreams);\n\n        if (getVideoTracks().length) {\n            mixer.frameInterval = options.frameInterval || 10;\n            mixer.width = options.video.width || 360;\n            mixer.height = options.video.height || 240;\n            mixer.startDrawingFrames();\n        }\n\n        if (typeof self.previewStream === 'function') {\n            self.previewStream(mixer.getMixedStream());\n        }\n\n        // record using MediaRecorder API\n        mediaRecorder = new MediaStreamRecorder(mixer.getMixedStream());\n\n        for (var prop in self) {\n            if (typeof self[prop] !== 'function') {\n                mediaRecorder[prop] = self[prop];\n            }\n        }\n\n        mediaRecorder.ondataavailable = function (blob) {\n            self.ondataavailable(blob);\n        };\n\n        mediaRecorder.onstop = self.onstop;\n\n        mediaRecorder.start(timeSlice);\n    };\n\n    function getVideoTracks() {\n        var tracks = [];\n        arrayOfMediaStreams.forEach(function (stream) {\n            stream.getVideoTracks().forEach(function (track) {\n                tracks.push(track);\n            });\n        });\n        return tracks;\n    }\n\n    this.stop = function (callback) {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        mediaRecorder.stop(function (blob) {\n            callback(blob);\n        });\n    };\n\n    this.pause = function () {\n        if (mediaRecorder) {\n            mediaRecorder.pause();\n        }\n    };\n\n    this.resume = function () {\n        if (mediaRecorder) {\n            mediaRecorder.resume();\n        }\n    };\n\n    this.clearRecordedData = function () {\n        if (mediaRecorder) {\n            mediaRecorder.clearRecordedData();\n            mediaRecorder = null;\n        }\n\n        if (mixer) {\n            mixer.releaseStreams();\n            mixer = null;\n        }\n    };\n\n    this.addStreams = this.addStream = function (streams) {\n        if (!streams) {\n            throw 'First parameter is required.';\n        }\n\n        if (!(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        arrayOfMediaStreams.concat(streams);\n\n        if (!mediaRecorder || !mixer) {\n            return;\n        }\n\n        mixer.appendStreams(streams);\n    };\n\n    this.resetVideoStreams = function (streams) {\n        if (!mixer) {\n            return;\n        }\n\n        if (streams && !(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        mixer.resetVideoStreams(streams);\n    };\n\n    this.ondataavailable = function (blob) {\n        if (self.disableLogs) {\n            return;\n        }\n\n        console.log('ondataavailable', blob);\n    };\n\n    this.onstop = function () { };\n\n    // for debugging\n    this.name = 'MultiStreamRecorder';\n    this.toString = function () {\n        return this.name;\n    };\n}\n\nif (typeof MediaStreamRecorder !== 'undefined') {\n    MediaStreamRecorder.MultiStreamRecorder = MultiStreamRecorder;\n}\n\n// Last time updated: 2017-08-31 2:56:12 AM UTC\n\n// ________________________\n// MultiStreamsMixer v1.0.2\n\n// Open-Sourced: https://github.com/muaz-khan/MultiStreamsMixer\n\n// --------------------------------------------------\n// Muaz Khan     - www.MuazKhan.com\n// MIT License   - www.WebRTC-Experiment.com/licence\n// --------------------------------------------------\n\nfunction MultiStreamsMixer(arrayOfMediaStreams) {\n\n    // requires: chrome://flags/#enable-experimental-web-platform-features\n\n    var videos = [];\n    var isStopDrawingFrames = false;\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    canvas.style = 'opacity:0;position:absolute;z-index:-1;top: -100000000;left:-1000000000; margin-top:-1000000000;margin-left:-1000000000;';\n    (document.body || document.documentElement).appendChild(canvas);\n\n    this.disableLogs = false;\n    this.frameInterval = 10;\n\n    this.width = 360;\n    this.height = 240;\n\n    // use gain node to prevent echo\n    this.useGainNode = true;\n\n    var self = this;\n\n    // _____________________________\n    // Cross-Browser-Declarations.js\n\n    // WebAudio API representer\n    var AudioContext = window.AudioContext;\n\n    if (typeof AudioContext === 'undefined') {\n        if (typeof webkitAudioContext !== 'undefined') {\n            /*global AudioContext:true */\n            AudioContext = webkitAudioContext;\n        }\n\n        if (typeof mozAudioContext !== 'undefined') {\n            /*global AudioContext:true */\n            AudioContext = mozAudioContext;\n        }\n    }\n\n    /*jshint -W079 */\n    var URL = window.URL;\n\n    if (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\n        /*global URL:true */\n        URL = webkitURL;\n    }\n\n    if (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\n        if (typeof navigator.webkitGetUserMedia !== 'undefined') {\n            navigator.getUserMedia = navigator.webkitGetUserMedia;\n        }\n\n        if (typeof navigator.mozGetUserMedia !== 'undefined') {\n            navigator.getUserMedia = navigator.mozGetUserMedia;\n        }\n    }\n\n    var MediaStream = window.MediaStream;\n\n    if (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\n        MediaStream = webkitMediaStream;\n    }\n\n    /*global MediaStream:true */\n    if (typeof MediaStream !== 'undefined') {\n        if (!('getVideoTracks' in MediaStream.prototype)) {\n            MediaStream.prototype.getVideoTracks = function () {\n                if (!this.getTracks) {\n                    return [];\n                }\n\n                var tracks = [];\n                this.getTracks.forEach(function (track) {\n                    if (track.kind.toString().indexOf('video') !== -1) {\n                        tracks.push(track);\n                    }\n                });\n                return tracks;\n            };\n\n            MediaStream.prototype.getAudioTracks = function () {\n                if (!this.getTracks) {\n                    return [];\n                }\n\n                var tracks = [];\n                this.getTracks.forEach(function (track) {\n                    if (track.kind.toString().indexOf('audio') !== -1) {\n                        tracks.push(track);\n                    }\n                });\n                return tracks;\n            };\n        }\n\n        // override \"stop\" method for all browsers\n        if (typeof MediaStream.prototype.stop === 'undefined') {\n            MediaStream.prototype.stop = function () {\n                this.getTracks().forEach(function (track) {\n                    track.stop();\n                });\n            };\n        }\n    }\n\n    var Storage = {};\n\n    if (typeof AudioContext !== 'undefined') {\n        Storage.AudioContext = AudioContext;\n    } else if (typeof webkitAudioContext !== 'undefined') {\n        Storage.AudioContext = webkitAudioContext;\n    }\n\n    this.startDrawingFrames = function () {\n        drawVideosToCanvas();\n    };\n\n    function drawVideosToCanvas() {\n        if (isStopDrawingFrames) {\n            return;\n        }\n\n        var videosLength = videos.length;\n\n        var fullcanvas = false;\n        var remaining = [];\n        videos.forEach(function (video) {\n            if (!video.stream) {\n                video.stream = {};\n            }\n\n            if (video.stream.fullcanvas) {\n                fullcanvas = video;\n            } else {\n                remaining.push(video);\n            }\n        });\n\n        if (fullcanvas) {\n            canvas.width = fullcanvas.stream.width;\n            canvas.height = fullcanvas.stream.height;\n        } else if (remaining.length) {\n            canvas.width = videosLength > 1 ? remaining[0].width * 2 : remaining[0].width;\n            canvas.height = videosLength > 2 ? remaining[0].height * 2 : remaining[0].height;\n        } else {\n            canvas.width = self.width || 360;\n            canvas.height = self.height || 240;\n        }\n\n        if (fullcanvas && fullcanvas instanceof HTMLVideoElement) {\n            drawImage(fullcanvas);\n        }\n\n        remaining.forEach(function (video, idx) {\n            drawImage(video, idx);\n        });\n\n        setTimeout(drawVideosToCanvas, self.frameInterval);\n    }\n\n    function drawImage(video, idx) {\n        if (isStopDrawingFrames) {\n            return;\n        }\n\n        var x = 0;\n        var y = 0;\n        var width = video.width;\n        var height = video.height;\n\n        if (idx === 1) {\n            x = video.width;\n        }\n\n        if (idx === 2) {\n            y = video.height;\n        }\n\n        if (idx === 3) {\n            x = video.width;\n            y = video.height;\n        }\n\n        if (typeof video.stream.left !== 'undefined') {\n            x = video.stream.left;\n        }\n\n        if (typeof video.stream.top !== 'undefined') {\n            y = video.stream.top;\n        }\n\n        if (typeof video.stream.width !== 'undefined') {\n            width = video.stream.width;\n        }\n\n        if (typeof video.stream.height !== 'undefined') {\n            height = video.stream.height;\n        }\n\n        context.drawImage(video, x, y, width, height);\n\n        if (typeof video.stream.onRender === 'function') {\n            video.stream.onRender(context, x, y, width, height, idx);\n        }\n    }\n\n    function getMixedStream() {\n        isStopDrawingFrames = false;\n        var mixedVideoStream = getMixedVideoStream();\n\n        var mixedAudioStream = getMixedAudioStream();\n        if (mixedAudioStream) {\n            mixedAudioStream.getAudioTracks().forEach(function (track) {\n                mixedVideoStream.addTrack(track);\n            });\n        }\n\n        var fullcanvas;\n        arrayOfMediaStreams.forEach(function (stream) {\n            if (stream.fullcanvas) {\n                fullcanvas = true;\n            }\n        });\n\n        return mixedVideoStream;\n    }\n\n    function getMixedVideoStream() {\n        resetVideoStreams();\n\n        var capturedStream;\n\n        if ('captureStream' in canvas) {\n            capturedStream = canvas.captureStream();\n        } else if ('mozCaptureStream' in canvas) {\n            capturedStream = canvas.mozCaptureStream();\n        } else if (!self.disableLogs) {\n            console.error('Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features');\n        }\n\n        var videoStream = new MediaStream();\n\n        capturedStream.getVideoTracks().forEach(function (track) {\n            videoStream.addTrack(track);\n        });\n\n        canvas.stream = videoStream;\n\n        return videoStream;\n    }\n\n    function getMixedAudioStream() {\n        // via: @pehrsons\n        if (!Storage.AudioContextConstructor) {\n            Storage.AudioContextConstructor = new Storage.AudioContext();\n        }\n\n        self.audioContext = Storage.AudioContextConstructor;\n\n        self.audioSources = [];\n\n        if (self.useGainNode === true) {\n            self.gainNode = self.audioContext.createGain();\n            self.gainNode.connect(self.audioContext.destination);\n            self.gainNode.gain.value = 0; // don't hear self\n        }\n\n        var audioTracksLength = 0;\n        arrayOfMediaStreams.forEach(function (stream) {\n            if (!stream.getAudioTracks().length) {\n                return;\n            }\n\n            audioTracksLength++;\n\n            var audioSource = self.audioContext.createMediaStreamSource(stream);\n\n            if (self.useGainNode === true) {\n                audioSource.connect(self.gainNode);\n            }\n\n            self.audioSources.push(audioSource);\n        });\n\n        if (!audioTracksLength) {\n            return;\n        }\n\n        self.audioDestination = self.audioContext.createMediaStreamDestination();\n        self.audioSources.forEach(function (audioSource) {\n            audioSource.connect(self.audioDestination);\n        });\n        return self.audioDestination.stream;\n    }\n\n    function getVideo(stream) {\n        var video = document.createElement('video');\n\n        if ('srcObject' in video) {\n            video.srcObject = stream;\n        } else {\n            video.src = URL.createObjectURL(stream);\n        }\n\n        video.muted = true;\n        video.volume = 0;\n\n        video.width = stream.width || self.width || 360;\n        video.height = stream.height || self.height || 240;\n\n        video.play();\n\n        return video;\n    }\n\n    this.appendStreams = function (streams) {\n        if (!streams) {\n            throw 'First parameter is required.';\n        }\n\n        if (!(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        arrayOfMediaStreams.concat(streams);\n\n        streams.forEach(function (stream) {\n            if (stream.getVideoTracks().length) {\n                var video = getVideo(stream);\n                video.stream = stream;\n                videos.push(video);\n            }\n\n            if (stream.getAudioTracks().length && self.audioContext) {\n                var audioSource = self.audioContext.createMediaStreamSource(stream);\n                audioSource.connect(self.audioDestination);\n                self.audioSources.push(audioSource);\n            }\n        });\n    };\n\n    this.releaseStreams = function () {\n        videos = [];\n        isStopDrawingFrames = true;\n\n        if (self.gainNode) {\n            self.gainNode.disconnect();\n            self.gainNode = null;\n        }\n\n        if (self.audioSources.length) {\n            self.audioSources.forEach(function (source) {\n                source.disconnect();\n            });\n            self.audioSources = [];\n        }\n\n        if (self.audioDestination) {\n            self.audioDestination.disconnect();\n            self.audioDestination = null;\n        }\n\n        self.audioContext = null;\n\n        context.clearRect(0, 0, canvas.width, canvas.height);\n\n        if (canvas.stream) {\n            canvas.stream.stop();\n            canvas.stream = null;\n        }\n    };\n\n    this.resetVideoStreams = function (streams) {\n        if (streams && !(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        resetVideoStreams(streams);\n    };\n\n    function resetVideoStreams(streams) {\n        videos = [];\n        streams = streams || arrayOfMediaStreams;\n\n        // via: @adrian-ber\n        streams.forEach(function (stream) {\n            if (!stream.getVideoTracks().length) {\n                return;\n            }\n\n            var video = getVideo(stream);\n            video.stream = stream;\n            videos.push(video);\n        });\n    }\n\n    // for debugging\n    this.name = 'MultiStreamsMixer';\n    this.toString = function () {\n        return this.name;\n    };\n\n    this.getMixedStream = getMixedStream;\n\n}\n\n// _____________________________\n// Cross-Browser-Declarations.js\n\nvar browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\n\n(function (that) {\n    if (typeof window !== 'undefined') {\n        return;\n    }\n\n    if (typeof window === 'undefined' && typeof global !== 'undefined') {\n        global.navigator = {\n            userAgent: browserFakeUserAgent,\n            getUserMedia: function () { }\n        };\n\n        /*global window:true */\n        that.window = global;\n    } else if (typeof window === 'undefined') {\n        // window = this;\n    }\n\n    if (typeof document === 'undefined') {\n        /*global document:true */\n        that.document = {};\n\n        document.createElement = document.captureStream = document.mozCaptureStream = function () {\n            return {};\n        };\n    }\n\n    if (typeof location === 'undefined') {\n        /*global location:true */\n        that.location = {\n            protocol: 'file:',\n            href: '',\n            hash: ''\n        };\n    }\n\n    if (typeof screen === 'undefined') {\n        /*global screen:true */\n        that.screen = {\n            width: 0,\n            height: 0\n        };\n    }\n})(typeof global !== 'undefined' ? global : window);\n\n// WebAudio API representer\nvar AudioContext = window.AudioContext;\n\nif (typeof AudioContext === 'undefined') {\n    if (typeof webkitAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = webkitAudioContext;\n    }\n\n    if (typeof mozAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = mozAudioContext;\n    }\n}\n\nif (typeof window === 'undefined') {\n    /*jshint -W020 */\n    window = {};\n}\n\n// WebAudio API representer\nvar AudioContext = window.AudioContext;\n\nif (typeof AudioContext === 'undefined') {\n    if (typeof webkitAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = webkitAudioContext;\n    }\n\n    if (typeof mozAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = mozAudioContext;\n    }\n}\n\n/*jshint -W079 */\nvar URL = window.URL;\n\nif (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\n    /*global URL:true */\n    URL = webkitURL;\n}\n\nif (typeof navigator !== 'undefined') {\n    if (typeof navigator.webkitGetUserMedia !== 'undefined') {\n        navigator.getUserMedia = navigator.webkitGetUserMedia;\n    }\n\n    if (typeof navigator.mozGetUserMedia !== 'undefined') {\n        navigator.getUserMedia = navigator.mozGetUserMedia;\n    }\n} else {\n    navigator = {\n        getUserMedia: function () { },\n        userAgent: browserFakeUserAgent\n    };\n}\n\nvar IsEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveBlob || !!navigator.msSaveOrOpenBlob);\n\nvar IsOpera = false;\nif (typeof opera !== 'undefined' && navigator.userAgent && navigator.userAgent.indexOf('OPR/') !== -1) {\n    IsOpera = true;\n}\nvar IsChrome = !IsEdge && !IsEdge && !!navigator.webkitGetUserMedia;\n\nvar MediaStream = window.MediaStream;\n\nif (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\n    MediaStream = webkitMediaStream;\n}\n\n/*global MediaStream:true */\nif (typeof MediaStream !== 'undefined') {\n    if (!('getVideoTracks' in MediaStream.prototype)) {\n        MediaStream.prototype.getVideoTracks = function () {\n            if (!this.getTracks) {\n                return [];\n            }\n\n            var tracks = [];\n            this.getTracks.forEach(function (track) {\n                if (track.kind.toString().indexOf('video') !== -1) {\n                    tracks.push(track);\n                }\n            });\n            return tracks;\n        };\n\n        MediaStream.prototype.getAudioTracks = function () {\n            if (!this.getTracks) {\n                return [];\n            }\n\n            var tracks = [];\n            this.getTracks.forEach(function (track) {\n                if (track.kind.toString().indexOf('audio') !== -1) {\n                    tracks.push(track);\n                }\n            });\n            return tracks;\n        };\n    }\n\n    if (!('stop' in MediaStream.prototype)) {\n        MediaStream.prototype.stop = function () {\n            this.getAudioTracks().forEach(function (track) {\n                if (!!track.stop) {\n                    track.stop();\n                }\n            });\n\n            this.getVideoTracks().forEach(function (track) {\n                if (!!track.stop) {\n                    track.stop();\n                }\n            });\n        };\n    }\n}\n\nif (typeof location !== 'undefined') {\n    if (location.href.indexOf('file:') === 0) {\n        console.error('Please load this HTML file on HTTP or HTTPS.');\n    }\n}\n\n// Merge all other data-types except \"function\"\n\nfunction mergeProps(mergein, mergeto) {\n    for (var t in mergeto) {\n        if (typeof mergeto[t] !== 'function') {\n            mergein[t] = mergeto[t];\n        }\n    }\n    return mergein;\n}\n\n// \"dropFirstFrame\" has been added by Graham Roth\n// https://github.com/gsroth\n\nfunction dropFirstFrame(arr) {\n    arr.shift();\n    return arr;\n}\n\n/**\n * @param {Blob} file - File or Blob object. This parameter is required.\n * @param {string} fileName - Optional file name e.g. \"Recorded-Video.webm\"\n * @example\n * invokeSaveAsDialog(blob or file, [optional] fileName);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\nfunction invokeSaveAsDialog(file, fileName) {\n    if (!file) {\n        throw 'Blob object is required.';\n    }\n\n    if (!file.type) {\n        try {\n            file.type = 'video/webm';\n        } catch (e) { }\n    }\n\n    var fileExtension = (file.type || 'video/webm').split('/')[1];\n\n    if (fileName && fileName.indexOf('.') !== -1) {\n        var splitted = fileName.split('.');\n        fileName = splitted[0];\n        fileExtension = splitted[1];\n    }\n\n    var fileFullName = (fileName || (Math.round(Math.random() * 9999999999) + 888888888)) + '.' + fileExtension;\n\n    if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\n        return navigator.msSaveOrOpenBlob(file, fileFullName);\n    } else if (typeof navigator.msSaveBlob !== 'undefined') {\n        return navigator.msSaveBlob(file, fileFullName);\n    }\n\n    var hyperlink = document.createElement('a');\n    hyperlink.href = URL.createObjectURL(file);\n    hyperlink.target = '_blank';\n    hyperlink.download = fileFullName;\n\n    if (!!navigator.mozGetUserMedia) {\n        hyperlink.onclick = function () {\n            (document.body || document.documentElement).removeChild(hyperlink);\n        };\n        (document.body || document.documentElement).appendChild(hyperlink);\n    }\n\n    var evt = new MouseEvent('click', {\n        view: window,\n        bubbles: true,\n        cancelable: true\n    });\n\n    hyperlink.dispatchEvent(evt);\n\n    if (!navigator.mozGetUserMedia) {\n        URL.revokeObjectURL(hyperlink.href);\n    }\n}\n\nfunction bytesToSize(bytes) {\n    var k = 1000;\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) {\n        return '0 Bytes';\n    }\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);\n    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\n}\n\n// ______________ (used to handle stuff like http://goo.gl/xmE5eg) issue #129\n// ObjectStore.js\nvar ObjectStore = {\n    AudioContext: AudioContext\n};\n\nfunction isMediaRecorderCompatible() {\n    var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n    var isChrome = !!window.chrome && !isOpera;\n    var isFirefox = typeof window.InstallTrigger !== 'undefined';\n\n    if (isFirefox) {\n        return true;\n    }\n\n    if (!isChrome) {\n        return false;\n    }\n\n    var nVer = navigator.appVersion;\n    var nAgt = navigator.userAgent;\n    var fullVersion = '' + parseFloat(navigator.appVersion);\n    var majorVersion = parseInt(navigator.appVersion, 10);\n    var nameOffset, verOffset, ix;\n\n    if (isChrome) {\n        verOffset = nAgt.indexOf('Chrome');\n        fullVersion = nAgt.substring(verOffset + 7);\n    }\n\n    // trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\n        fullVersion = fullVersion.substring(0, ix);\n    }\n\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\n        fullVersion = fullVersion.substring(0, ix);\n    }\n\n    majorVersion = parseInt('' + fullVersion, 10);\n\n    if (isNaN(majorVersion)) {\n        fullVersion = '' + parseFloat(navigator.appVersion);\n        majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    return majorVersion >= 49;\n}\n\n// ==================\n// MediaRecorder.js\n\n/**\n * Implementation of https://dvcs.w3.org/hg/dap/raw-file/default/media-stream-capture/MediaRecorder.html\n * The MediaRecorder accepts a mediaStream as input source passed from UA. When recorder starts,\n * a MediaEncoder will be created and accept the mediaStream as input source.\n * Encoder will get the raw data by track data changes, encode it by selected MIME Type, then store the encoded in EncodedBufferCache object.\n * The encoded data will be extracted on every timeslice passed from Start function call or by RequestData function.\n * Thread model:\n * When the recorder starts, it creates a \"Media Encoder\" thread to read data from MediaEncoder object and store buffer in EncodedBufferCache object.\n * Also extract the encoded data and create blobs on every timeslice passed from start function or RequestData function called by UA.\n */\n\nfunction MediaRecorderWrapper(mediaStream) {\n    var self = this;\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.start(5000);\n     */\n    this.start = function (timeSlice, __disableLogs) {\n        this.timeSlice = timeSlice || 5000;\n\n        if (!self.mimeType) {\n            self.mimeType = 'video/webm';\n        }\n\n        if (self.mimeType.indexOf('audio') !== -1) {\n            if (mediaStream.getVideoTracks().length && mediaStream.getAudioTracks().length) {\n                var stream;\n                if (!!navigator.mozGetUserMedia) {\n                    stream = new MediaStream();\n                    stream.addTrack(mediaStream.getAudioTracks()[0]);\n                } else {\n                    // webkitMediaStream\n                    stream = new MediaStream(mediaStream.getAudioTracks());\n                }\n                mediaStream = stream;\n            }\n        }\n\n        if (self.mimeType.indexOf('audio') !== -1) {\n            self.mimeType = IsChrome ? 'audio/webm' : 'audio/ogg';\n        }\n\n        self.dontFireOnDataAvailableEvent = false;\n\n        var recorderHints = {\n            mimeType: self.mimeType\n        };\n\n        if (!self.disableLogs && !__disableLogs) {\n            console.log('Passing following params over MediaRecorder API.', recorderHints);\n        }\n\n        if (mediaRecorder) {\n            // mandatory to make sure Firefox doesn't fails to record streams 3-4 times without reloading the page.\n            mediaRecorder = null;\n        }\n\n        if (IsChrome && !isMediaRecorderCompatible()) {\n            // to support video-only recording on stable\n            recorderHints = 'video/vp8';\n        }\n\n        // http://dxr.mozilla.org/mozilla-central/source/content/media/MediaRecorder.cpp\n        // https://wiki.mozilla.org/Gecko:MediaRecorder\n        // https://dvcs.w3.org/hg/dap/raw-file/default/media-stream-capture/MediaRecorder.html\n\n        // starting a recording session; which will initiate \"Reading Thread\"\n        // \"Reading Thread\" are used to prevent main-thread blocking scenarios\n        try {\n            mediaRecorder = new MediaRecorder(mediaStream, recorderHints);\n        } catch (e) {\n            // if someone passed NON_supported mimeType\n            // or if Firefox on Android\n            mediaRecorder = new MediaRecorder(mediaStream);\n        }\n\n        if ('canRecordMimeType' in mediaRecorder && mediaRecorder.canRecordMimeType(self.mimeType) === false) {\n            if (!self.disableLogs) {\n                console.warn('MediaRecorder API seems unable to record mimeType:', self.mimeType);\n            }\n        }\n\n        // i.e. stop recording when <video> is paused by the user; and auto restart recording \n        // when video is resumed. E.g. yourStream.getVideoTracks()[0].muted = true; // it will auto-stop recording.\n        if (self.ignoreMutedMedia === true) {\n            mediaRecorder.ignoreMutedMedia = true;\n        }\n\n        var firedOnDataAvailableOnce = false;\n\n        // Dispatching OnDataAvailable Handler\n        mediaRecorder.ondataavailable = function (e) {\n            // how to fix FF-corrupt-webm issues?\n            // should we leave this?          e.data.size < 26800\n            if (!e.data || !e.data.size || e.data.size < 26800 || firedOnDataAvailableOnce) {\n                return;\n            }\n\n            firedOnDataAvailableOnce = true;\n\n            var blob = self.getNativeBlob ? e.data : new Blob([e.data], {\n                type: self.mimeType || 'video/webm'\n            });\n\n            self.ondataavailable(blob);\n\n            // self.dontFireOnDataAvailableEvent = true;\n\n            if (!!mediaRecorder && mediaRecorder.state === 'recording') {\n                mediaRecorder.stop();\n            }\n            mediaRecorder = null;\n\n            if (self.dontFireOnDataAvailableEvent) {\n                return;\n            }\n\n            // record next interval\n            self.start(timeSlice, '__disableLogs');\n        };\n\n        mediaRecorder.onerror = function (error) {\n            if (!self.disableLogs) {\n                if (error.name === 'InvalidState') {\n                    console.error('The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.');\n                } else if (error.name === 'OutOfMemory') {\n                    console.error('The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.');\n                } else if (error.name === 'IllegalStreamModification') {\n                    console.error('A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.');\n                } else if (error.name === 'OtherRecordingError') {\n                    console.error('Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.');\n                } else if (error.name === 'GenericError') {\n                    console.error('The UA cannot provide the codec or recording option that has been requested.', error);\n                } else {\n                    console.error('MediaRecorder Error', error);\n                }\n            }\n\n            // When the stream is \"ended\" set recording to 'inactive' \n            // and stop gathering data. Callers should not rely on \n            // exactness of the timeSlice value, especially \n            // if the timeSlice value is small. Callers should \n            // consider timeSlice as a minimum value\n\n            if (!!mediaRecorder && mediaRecorder.state !== 'inactive' && mediaRecorder.state !== 'stopped') {\n                mediaRecorder.stop();\n            }\n        };\n\n        // void start(optional long mTimeSlice)\n        // The interval of passing encoded data from EncodedBufferCache to onDataAvailable\n        // handler. \"mTimeSlice < 0\" means Session object does not push encoded data to\n        // onDataAvailable, instead, it passive wait the client side pull encoded data\n        // by calling requestData API.\n        try {\n            mediaRecorder.start(3.6e+6);\n        } catch (e) {\n            mediaRecorder = null;\n        }\n\n        setTimeout(function () {\n            if (!mediaRecorder) {\n                return;\n            }\n\n            if (mediaRecorder.state === 'recording') {\n                // \"stop\" method auto invokes \"requestData\"!\n                mediaRecorder.requestData();\n                // mediaRecorder.stop();\n            }\n        }, timeSlice);\n\n        // Start recording. If timeSlice has been provided, mediaRecorder will\n        // raise a dataavailable event containing the Blob of collected data on every timeSlice milliseconds.\n        // If timeSlice isn't provided, UA should call the RequestData to obtain the Blob data, also set the mTimeSlice to zero.\n    };\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function (callback) {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        // mediaRecorder.state === 'recording' means that media recorder is associated with \"session\"\n        // mediaRecorder.state === 'stopped' means that media recorder is detached from the \"session\" ... in this case; \"session\" will also be deleted.\n\n        if (mediaRecorder.state === 'recording') {\n            // \"stop\" method auto invokes \"requestData\"!\n            mediaRecorder.requestData();\n\n            setTimeout(function () {\n                self.dontFireOnDataAvailableEvent = true;\n                if (!!mediaRecorder && mediaRecorder.state === 'recording') {\n                    mediaRecorder.stop();\n                }\n                mediaRecorder = null;\n                self.onstop();\n            }, 2000);\n        }\n    };\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (mediaRecorder.state === 'recording') {\n            mediaRecorder.pause();\n        }\n\n        this.dontFireOnDataAvailableEvent = true;\n    };\n\n    /**\n     * The recorded blobs are passed over this event.\n     * @event\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.ondataavailable = function(data) {};\n     */\n    this.ondataavailable = function (blob) {\n        console.log('recorded-blob', blob);\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function () {\n        if (this.dontFireOnDataAvailableEvent) {\n            this.dontFireOnDataAvailableEvent = false;\n\n            var disableLogs = self.disableLogs;\n            self.disableLogs = true;\n            this.start(this.timeslice || 5000);\n            self.disableLogs = disableLogs;\n            return;\n        }\n\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (mediaRecorder.state === 'paused') {\n            mediaRecorder.resume();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        this.pause();\n\n        this.dontFireOnDataAvailableEvent = true;\n        this.stop();\n    };\n\n    this.onstop = function () { };\n\n    // Reference to \"MediaRecorder\" object\n    var mediaRecorder;\n\n    function isMediaStreamActive() {\n        if ('active' in mediaStream) {\n            if (!mediaStream.active) {\n                return false;\n            }\n        } else if ('ended' in mediaStream) { // old hack\n            if (mediaStream.ended) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    // this method checks if media stream is stopped\n    // or any track is ended.\n    (function looper() {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (isMediaStreamActive() === false) {\n            self.stop();\n            return;\n        }\n\n        setTimeout(looper, 1000); // check every second\n    })();\n}\n\nif (typeof MediaStreamRecorder !== 'undefined') {\n    MediaStreamRecorder.MediaRecorderWrapper = MediaRecorderWrapper;\n}\n\n// ======================\n// StereoAudioRecorder.js\n\nfunction StereoAudioRecorder(mediaStream) {\n    // void start(optional long timeSlice)\n    // timestamp to fire \"ondataavailable\"\n    this.start = function (timeSlice) {\n        timeSlice = timeSlice || 1000;\n\n        mediaRecorder = new StereoAudioRecorderHelper(mediaStream, this);\n\n        mediaRecorder.record();\n\n        timeout = setInterval(function () {\n            mediaRecorder.requestData();\n        }, timeSlice);\n    };\n\n    this.stop = function () {\n        if (mediaRecorder) {\n            mediaRecorder.stop();\n            clearTimeout(timeout);\n            this.onstop();\n        }\n    };\n\n    this.pause = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        mediaRecorder.pause();\n    };\n\n    this.resume = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        mediaRecorder.resume();\n    };\n\n    this.ondataavailable = function () { };\n    this.onstop = function () { };\n\n    // Reference to \"StereoAudioRecorder\" object\n    var mediaRecorder;\n    var timeout;\n}\n\nif (typeof MediaStreamRecorder !== 'undefined') {\n    MediaStreamRecorder.StereoAudioRecorder = StereoAudioRecorder;\n}\n\n// ============================\n// StereoAudioRecorderHelper.js\n\n// source code from: http://typedarray.org/wp-content/projects/WebAudioRecorder/script.js\n\nfunction StereoAudioRecorderHelper(mediaStream, root) {\n\n    // variables    \n    var deviceSampleRate = 44100; // range: 22050 to 96000\n\n    if (!ObjectStore.AudioContextConstructor) {\n        ObjectStore.AudioContextConstructor = new ObjectStore.AudioContext();\n    }\n\n    // check device sample rate\n    deviceSampleRate = ObjectStore.AudioContextConstructor.sampleRate;\n\n    var leftchannel = [];\n    var rightchannel = [];\n    var scriptprocessornode;\n    var recording = false;\n    var recordingLength = 0;\n    var volume;\n    var audioInput;\n    var sampleRate = root.sampleRate || deviceSampleRate;\n\n    var mimeType = root.mimeType || 'audio/wav';\n    var isPCM = mimeType.indexOf('audio/pcm') > -1;\n\n    var context;\n\n    var numChannels = root.audioChannels || 2;\n\n    this.record = function () {\n        recording = true;\n        // reset the buffers for the new recording\n        leftchannel.length = rightchannel.length = 0;\n        recordingLength = 0;\n    };\n\n    this.requestData = function () {\n        if (isPaused) {\n            return;\n        }\n\n        if (recordingLength === 0) {\n            requestDataInvoked = false;\n            return;\n        }\n\n        requestDataInvoked = true;\n        // clone stuff\n        var internalLeftChannel = leftchannel.slice(0);\n        var internalRightChannel = rightchannel.slice(0);\n        var internalRecordingLength = recordingLength;\n\n        // reset the buffers for the new recording\n        leftchannel.length = rightchannel.length = [];\n        recordingLength = 0;\n        requestDataInvoked = false;\n\n        // we flat the left and right channels down\n        var leftBuffer = mergeBuffers(internalLeftChannel, internalRecordingLength);\n\n        var interleaved = leftBuffer;\n\n        // we interleave both channels together\n        if (numChannels === 2) {\n            var rightBuffer = mergeBuffers(internalRightChannel, internalRecordingLength); // bug fixed via #70,#71\n            interleaved = interleave(leftBuffer, rightBuffer);\n        }\n\n        if (isPCM) {\n            // our final binary blob\n            var blob = new Blob([convertoFloat32ToInt16(interleaved)], {\n                type: 'audio/pcm'\n            });\n\n            console.debug('audio recorded blob size:', bytesToSize(blob.size));\n            root.ondataavailable(blob);\n            return;\n        }\n\n        // we create our wav file\n        var buffer = new ArrayBuffer(44 + interleaved.length * 2);\n        var view = new DataView(buffer);\n\n        // RIFF chunk descriptor\n        writeUTFBytes(view, 0, 'RIFF');\n\n        // -8 (via #97)\n        view.setUint32(4, 44 + interleaved.length * 2 - 8, true);\n\n        writeUTFBytes(view, 8, 'WAVE');\n        // FMT sub-chunk\n        writeUTFBytes(view, 12, 'fmt ');\n        view.setUint32(16, 16, true);\n        view.setUint16(20, 1, true);\n        // stereo (2 channels)\n        view.setUint16(22, numChannels, true);\n        view.setUint32(24, sampleRate, true);\n        view.setUint32(28, sampleRate * numChannels * 2, true); // numChannels * 2 (via #71)\n        view.setUint16(32, numChannels * 2, true);\n        view.setUint16(34, 16, true);\n        // data sub-chunk\n        writeUTFBytes(view, 36, 'data');\n        view.setUint32(40, interleaved.length * 2, true);\n\n        // write the PCM samples\n        var lng = interleaved.length;\n        var index = 44;\n        var volume = 1;\n        for (var i = 0; i < lng; i++) {\n            view.setInt16(index, interleaved[i] * (0x7FFF * volume), true);\n            index += 2;\n        }\n\n        // our final binary blob\n        var blob = new Blob([view], {\n            type: 'audio/wav'\n        });\n\n        console.debug('audio recorded blob size:', bytesToSize(blob.size));\n\n        root.ondataavailable(blob);\n    };\n\n    this.stop = function () {\n        // we stop recording\n        recording = false;\n        this.requestData();\n\n        audioInput.disconnect();\n        this.onstop();\n    };\n\n    function interleave(leftChannel, rightChannel) {\n        var length = leftChannel.length + rightChannel.length;\n        var result = new Float32Array(length);\n\n        var inputIndex = 0;\n\n        for (var index = 0; index < length;) {\n            result[index++] = leftChannel[inputIndex];\n            result[index++] = rightChannel[inputIndex];\n            inputIndex++;\n        }\n        return result;\n    }\n\n    function mergeBuffers(channelBuffer, recordingLength) {\n        var result = new Float32Array(recordingLength);\n        var offset = 0;\n        var lng = channelBuffer.length;\n        for (var i = 0; i < lng; i++) {\n            var buffer = channelBuffer[i];\n            result.set(buffer, offset);\n            offset += buffer.length;\n        }\n        return result;\n    }\n\n    function writeUTFBytes(view, offset, string) {\n        var lng = string.length;\n        for (var i = 0; i < lng; i++) {\n            view.setUint8(offset + i, string.charCodeAt(i));\n        }\n    }\n\n    function convertoFloat32ToInt16(buffer) {\n        var l = buffer.length;\n        var buf = new Int16Array(l)\n\n        while (l--) {\n            buf[l] = buffer[l] * 0xFFFF; //convert to 16 bit\n        }\n        return buf.buffer\n    }\n\n    // creates the audio context\n    var context = ObjectStore.AudioContextConstructor;\n\n    // creates a gain node\n    ObjectStore.VolumeGainNode = context.createGain();\n\n    var volume = ObjectStore.VolumeGainNode;\n\n    // creates an audio node from the microphone incoming stream\n    ObjectStore.AudioInput = context.createMediaStreamSource(mediaStream);\n\n    // creates an audio node from the microphone incoming stream\n    var audioInput = ObjectStore.AudioInput;\n\n    // connect the stream to the gain node\n    audioInput.connect(volume);\n\n    /* From the spec: This value controls how frequently the audioprocess event is\n    dispatched and how many sample-frames need to be processed each call.\n    Lower values for buffer size will result in a lower (better) latency.\n    Higher values will be necessary to avoid audio breakup and glitches \n    Legal values are 256, 512, 1024, 2048, 4096, 8192, and 16384.*/\n    var bufferSize = root.bufferSize || 2048;\n    if (root.bufferSize === 0) {\n        bufferSize = 0;\n    }\n\n    if (context.createJavaScriptNode) {\n        scriptprocessornode = context.createJavaScriptNode(bufferSize, numChannels, numChannels);\n    } else if (context.createScriptProcessor) {\n        scriptprocessornode = context.createScriptProcessor(bufferSize, numChannels, numChannels);\n    } else {\n        throw 'WebAudio API has no support on this browser.';\n    }\n\n    bufferSize = scriptprocessornode.bufferSize;\n\n    console.debug('using audio buffer-size:', bufferSize);\n\n    var requestDataInvoked = false;\n\n    // sometimes \"scriptprocessornode\" disconnects from he destination-node\n    // and there is no exception thrown in this case.\n    // and obviously no further \"ondataavailable\" events will be emitted.\n    // below global-scope variable is added to debug such unexpected but \"rare\" cases.\n    window.scriptprocessornode = scriptprocessornode;\n\n    if (numChannels === 1) {\n        console.debug('All right-channels are skipped.');\n    }\n\n    var isPaused = false;\n\n    this.pause = function () {\n        isPaused = true;\n    };\n\n    this.resume = function () {\n        isPaused = false;\n    };\n\n    this.onstop = function () { };\n\n    // http://webaudio.github.io/web-audio-api/#the-scriptprocessornode-interface\n    scriptprocessornode.onaudioprocess = function (e) {\n        if (!recording || requestDataInvoked || isPaused) {\n            return;\n        }\n\n        var left = e.inputBuffer.getChannelData(0);\n        leftchannel.push(new Float32Array(left));\n\n        if (numChannels === 2) {\n            var right = e.inputBuffer.getChannelData(1);\n            rightchannel.push(new Float32Array(right));\n        }\n        recordingLength += bufferSize;\n    };\n\n    volume.connect(scriptprocessornode);\n    scriptprocessornode.connect(context.destination);\n}\n\nif (typeof MediaStreamRecorder !== 'undefined') {\n    MediaStreamRecorder.StereoAudioRecorderHelper = StereoAudioRecorderHelper;\n}\n\n// ===================\n// WhammyRecorder.js\n\nfunction WhammyRecorder(mediaStream) {\n    // void start(optional long timeSlice)\n    // timestamp to fire \"ondataavailable\"\n    this.start = function (timeSlice) {\n        timeSlice = timeSlice || 1000;\n\n        mediaRecorder = new WhammyRecorderHelper(mediaStream, this);\n\n        for (var prop in this) {\n            if (typeof this[prop] !== 'function') {\n                mediaRecorder[prop] = this[prop];\n            }\n        }\n\n        mediaRecorder.record();\n\n        timeout = setInterval(function () {\n            mediaRecorder.requestData();\n        }, timeSlice);\n    };\n\n    this.stop = function () {\n        if (mediaRecorder) {\n            mediaRecorder.stop();\n            clearTimeout(timeout);\n            this.onstop();\n        }\n    };\n\n    this.onstop = function () { };\n\n    this.clearOldRecordedFrames = function () {\n        if (mediaRecorder) {\n            mediaRecorder.clearOldRecordedFrames();\n        }\n    };\n\n    this.pause = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        mediaRecorder.pause();\n    };\n\n    this.resume = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        mediaRecorder.resume();\n    };\n\n    this.ondataavailable = function () { };\n\n    // Reference to \"WhammyRecorder\" object\n    var mediaRecorder;\n    var timeout;\n}\n\nif (typeof MediaStreamRecorder !== 'undefined') {\n    MediaStreamRecorder.WhammyRecorder = WhammyRecorder;\n}\n\n// ==========================\n// WhammyRecorderHelper.js\n\nfunction WhammyRecorderHelper(mediaStream, root) {\n    this.record = function (timeSlice) {\n        if (!this.width) {\n            this.width = 320;\n        }\n        if (!this.height) {\n            this.height = 240;\n        }\n\n        if (this.video && this.video instanceof HTMLVideoElement) {\n            if (!this.width) {\n                this.width = video.videoWidth || video.clientWidth || 320;\n            }\n            if (!this.height) {\n                this.height = video.videoHeight || video.clientHeight || 240;\n            }\n        }\n\n        if (!this.video) {\n            this.video = {\n                width: this.width,\n                height: this.height\n            };\n        }\n\n        if (!this.canvas || !this.canvas.width || !this.canvas.height) {\n            this.canvas = {\n                width: this.width,\n                height: this.height\n            };\n        }\n\n        canvas.width = this.canvas.width;\n        canvas.height = this.canvas.height;\n\n        // setting defaults\n        if (this.video && this.video instanceof HTMLVideoElement) {\n            this.isHTMLObject = true;\n            video = this.video.cloneNode();\n        } else {\n            video = document.createElement('video');\n            video.src = URL.createObjectURL(mediaStream);\n\n            video.width = this.video.width;\n            video.height = this.video.height;\n        }\n\n        video.muted = true;\n        video.play();\n\n        lastTime = new Date().getTime();\n        whammy = new Whammy.Video(root.speed, root.quality);\n\n        console.log('canvas resolutions', canvas.width, '*', canvas.height);\n        console.log('video width/height', video.width || canvas.width, '*', video.height || canvas.height);\n\n        drawFrames();\n    };\n\n    this.clearOldRecordedFrames = function () {\n        whammy.frames = [];\n    };\n\n    var requestDataInvoked = false;\n    this.requestData = function () {\n        if (isPaused) {\n            return;\n        }\n\n        if (!whammy.frames.length) {\n            requestDataInvoked = false;\n            return;\n        }\n\n        requestDataInvoked = true;\n        // clone stuff\n        var internalFrames = whammy.frames.slice(0);\n\n        // reset the frames for the new recording\n\n        whammy.frames = dropBlackFrames(internalFrames, -1);\n\n        whammy.compile(function (whammyBlob) {\n            root.ondataavailable(whammyBlob);\n            console.debug('video recorded blob size:', bytesToSize(whammyBlob.size));\n        });\n\n        whammy.frames = [];\n\n        requestDataInvoked = false;\n    };\n\n    var isOnStartedDrawingNonBlankFramesInvoked = false;\n\n    function drawFrames() {\n        if (isPaused) {\n            lastTime = new Date().getTime();\n            setTimeout(drawFrames, 500);\n            return;\n        }\n\n        if (isStopDrawing) {\n            return;\n        }\n\n        if (requestDataInvoked) {\n            return setTimeout(drawFrames, 100);\n        }\n\n        var duration = new Date().getTime() - lastTime;\n        if (!duration) {\n            return drawFrames();\n        }\n\n        // via webrtc-experiment#206, by Jack i.e. @Seymourr\n        lastTime = new Date().getTime();\n\n        if (!self.isHTMLObject && video.paused) {\n            video.play(); // Android\n        }\n\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n        if (!isStopDrawing) {\n            whammy.frames.push({\n                duration: duration,\n                image: canvas.toDataURL('image/webp')\n            });\n        }\n\n        if (!isOnStartedDrawingNonBlankFramesInvoked && !isBlankFrame(whammy.frames[whammy.frames.length - 1])) {\n            isOnStartedDrawingNonBlankFramesInvoked = true;\n            root.onStartedDrawingNonBlankFrames();\n        }\n\n        setTimeout(drawFrames, 10);\n    }\n\n    var isStopDrawing = false;\n\n    this.stop = function () {\n        isStopDrawing = true;\n        this.requestData();\n        this.onstop();\n    };\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    var video;\n    var lastTime;\n    var whammy;\n\n    var self = this;\n\n    function isBlankFrame(frame, _pixTolerance, _frameTolerance) {\n        var localCanvas = document.createElement('canvas');\n        localCanvas.width = canvas.width;\n        localCanvas.height = canvas.height;\n        var context2d = localCanvas.getContext('2d');\n\n        var sampleColor = {\n            r: 0,\n            g: 0,\n            b: 0\n        };\n        var maxColorDifference = Math.sqrt(\n            Math.pow(255, 2) +\n            Math.pow(255, 2) +\n            Math.pow(255, 2)\n        );\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\n\n        var matchPixCount, endPixCheck, maxPixCount;\n\n        var image = new Image();\n        image.src = frame.image;\n        context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\n        var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\n        matchPixCount = 0;\n        endPixCheck = imageData.data.length;\n        maxPixCount = imageData.data.length / 4;\n\n        for (var pix = 0; pix < endPixCheck; pix += 4) {\n            var currentColor = {\n                r: imageData.data[pix],\n                g: imageData.data[pix + 1],\n                b: imageData.data[pix + 2]\n            };\n            var colorDifference = Math.sqrt(\n                Math.pow(currentColor.r - sampleColor.r, 2) +\n                Math.pow(currentColor.g - sampleColor.g, 2) +\n                Math.pow(currentColor.b - sampleColor.b, 2)\n            );\n            // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\n            if (colorDifference <= maxColorDifference * pixTolerance) {\n                matchPixCount++;\n            }\n        }\n\n        if (maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    function dropBlackFrames(_frames, _framesToCheck, _pixTolerance, _frameTolerance) {\n        var localCanvas = document.createElement('canvas');\n        localCanvas.width = canvas.width;\n        localCanvas.height = canvas.height;\n        var context2d = localCanvas.getContext('2d');\n        var resultFrames = [];\n\n        var checkUntilNotBlack = _framesToCheck === -1;\n        var endCheckFrame = (_framesToCheck && _framesToCheck > 0 && _framesToCheck <= _frames.length) ?\n            _framesToCheck : _frames.length;\n        var sampleColor = {\n            r: 0,\n            g: 0,\n            b: 0\n        };\n        var maxColorDifference = Math.sqrt(\n            Math.pow(255, 2) +\n            Math.pow(255, 2) +\n            Math.pow(255, 2)\n        );\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\n        var doNotCheckNext = false;\n\n        for (var f = 0; f < endCheckFrame; f++) {\n            var matchPixCount, endPixCheck, maxPixCount;\n\n            if (!doNotCheckNext) {\n                var image = new Image();\n                image.src = _frames[f].image;\n                context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\n                var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\n                matchPixCount = 0;\n                endPixCheck = imageData.data.length;\n                maxPixCount = imageData.data.length / 4;\n\n                for (var pix = 0; pix < endPixCheck; pix += 4) {\n                    var currentColor = {\n                        r: imageData.data[pix],\n                        g: imageData.data[pix + 1],\n                        b: imageData.data[pix + 2]\n                    };\n                    var colorDifference = Math.sqrt(\n                        Math.pow(currentColor.r - sampleColor.r, 2) +\n                        Math.pow(currentColor.g - sampleColor.g, 2) +\n                        Math.pow(currentColor.b - sampleColor.b, 2)\n                    );\n                    // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\n                    if (colorDifference <= maxColorDifference * pixTolerance) {\n                        matchPixCount++;\n                    }\n                }\n            }\n\n            if (!doNotCheckNext && maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\n                // console.log('removed black frame : ' + f + ' ; frame duration ' + _frames[f].duration);\n            } else {\n                // console.log('frame is passed : ' + f);\n                if (checkUntilNotBlack) {\n                    doNotCheckNext = true;\n                }\n                resultFrames.push(_frames[f]);\n            }\n        }\n\n        resultFrames = resultFrames.concat(_frames.slice(endCheckFrame));\n\n        if (resultFrames.length <= 0) {\n            // at least one last frame should be available for next manipulation\n            // if total duration of all frames will be < 1000 than ffmpeg doesn't work well...\n            resultFrames.push(_frames[_frames.length - 1]);\n        }\n\n        return resultFrames;\n    }\n\n    var isPaused = false;\n\n    this.pause = function () {\n        isPaused = true;\n    };\n\n    this.resume = function () {\n        isPaused = false;\n    };\n\n    this.onstop = function () { };\n}\n\nif (typeof MediaStreamRecorder !== 'undefined') {\n    MediaStreamRecorder.WhammyRecorderHelper = WhammyRecorderHelper;\n}\n\n// --------------\n// GifRecorder.js\n\nfunction GifRecorder(mediaStream) {\n    if (typeof GIFEncoder === 'undefined') {\n        throw 'Please link: https://cdn.webrtc-experiment.com/gif-recorder.js';\n    }\n\n    // void start(optional long timeSlice)\n    // timestamp to fire \"ondataavailable\"\n    this.start = function (timeSlice) {\n        timeSlice = timeSlice || 1000;\n\n        var imageWidth = this.videoWidth || 320;\n        var imageHeight = this.videoHeight || 240;\n\n        canvas.width = video.width = imageWidth;\n        canvas.height = video.height = imageHeight;\n\n        // external library to record as GIF images\n        gifEncoder = new GIFEncoder();\n\n        // void setRepeat(int iter)\n        // Sets the number of times the set of GIF frames should be played.\n        // Default is 1; 0 means play indefinitely.\n        gifEncoder.setRepeat(0);\n\n        // void setFrameRate(Number fps)\n        // Sets frame rate in frames per second.\n        // Equivalent to setDelay(1000/fps).\n        // Using \"setDelay\" instead of \"setFrameRate\"\n        gifEncoder.setDelay(this.frameRate || this.speed || 200);\n\n        // void setQuality(int quality)\n        // Sets quality of color quantization (conversion of images to the\n        // maximum 256 colors allowed by the GIF specification).\n        // Lower values (minimum = 1) produce better colors,\n        // but slow processing significantly. 10 is the default,\n        // and produces good color mapping at reasonable speeds.\n        // Values greater than 20 do not yield significant improvements in speed.\n        gifEncoder.setQuality(this.quality || 1);\n\n        // Boolean start()\n        // This writes the GIF Header and returns false if it fails.\n        gifEncoder.start();\n\n        startTime = Date.now();\n\n        function drawVideoFrame(time) {\n            if (isPaused) {\n                setTimeout(drawVideoFrame, 500, time);\n                return;\n            }\n\n            lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\n\n            if (typeof lastFrameTime === undefined) {\n                lastFrameTime = time;\n            }\n\n            // ~10 fps\n            if (time - lastFrameTime < 90) {\n                return;\n            }\n\n            if (video.paused) {\n                video.play(); // Android\n            }\n\n            context.drawImage(video, 0, 0, imageWidth, imageHeight);\n\n            gifEncoder.addFrame(context);\n\n            // console.log('Recording...' + Math.round((Date.now() - startTime) / 1000) + 's');\n            // console.log(\"fps: \", 1000 / (time - lastFrameTime));\n\n            lastFrameTime = time;\n        }\n\n        lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\n\n        timeout = setTimeout(doneRecording, timeSlice);\n    };\n\n    function doneRecording() {\n        endTime = Date.now();\n\n        var gifBlob = new Blob([new Uint8Array(gifEncoder.stream().bin)], {\n            type: 'image/gif'\n        });\n        self.ondataavailable(gifBlob);\n\n        // todo: find a way to clear old recorded blobs\n        gifEncoder.stream().bin = [];\n    }\n\n    this.stop = function () {\n        if (lastAnimationFrame) {\n            cancelAnimationFrame(lastAnimationFrame);\n            clearTimeout(timeout);\n            doneRecording();\n            this.onstop();\n        }\n    };\n\n    this.onstop = function () { };\n\n    var isPaused = false;\n\n    this.pause = function () {\n        isPaused = true;\n    };\n\n    this.resume = function () {\n        isPaused = false;\n    };\n\n    this.ondataavailable = function () { };\n    this.onstop = function () { };\n\n    // Reference to itself\n    var self = this;\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    var video = document.createElement('video');\n    video.muted = true;\n    video.autoplay = true;\n    video.src = URL.createObjectURL(mediaStream);\n    video.play();\n\n    var lastAnimationFrame = null;\n    var startTime, endTime, lastFrameTime;\n\n    var gifEncoder;\n    var timeout;\n}\n\nif (typeof MediaStreamRecorder !== 'undefined') {\n    MediaStreamRecorder.GifRecorder = GifRecorder;\n}\n\n// https://github.com/antimatter15/whammy/blob/master/LICENSE\n// _________\n// Whammy.js\n\n// todo: Firefox now supports webp for webm containers!\n// their MediaRecorder implementation works well!\n// should we provide an option to record via Whammy.js or MediaRecorder API is a better solution?\n\n/**\n * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}\n * @summary A real time javascript webm encoder based on a canvas hack.\n * @typedef Whammy\n * @class\n * @example\n * var recorder = new Whammy().Video(15);\n * recorder.add(context || canvas || dataURL);\n * var output = recorder.compile();\n */\n\nvar Whammy = (function () {\n    // a more abstract-ish API\n\n    function WhammyVideo(duration, quality) {\n        this.frames = [];\n        if (!duration) {\n            duration = 1;\n        }\n        this.duration = 1000 / duration;\n        this.quality = quality || 0.8;\n    }\n\n    /**\n     * Pass Canvas or Context or image/webp(string) to {@link Whammy} encoder.\n     * @method\n     * @memberof Whammy\n     * @example\n     * recorder = new Whammy().Video(0.8, 100);\n     * recorder.add(canvas || context || 'image/webp');\n     * @param {string} frame - Canvas || Context || image/webp\n     * @param {number} duration - Stick a duration (in milliseconds)\n     */\n    WhammyVideo.prototype.add = function (frame, duration) {\n        if ('canvas' in frame) { //CanvasRenderingContext2D\n            frame = frame.canvas;\n        }\n\n        if ('toDataURL' in frame) {\n            frame = frame.toDataURL('image/webp', this.quality);\n        }\n\n        if (!(/^data:image\\/webp;base64,/ig).test(frame)) {\n            throw 'Input must be formatted properly as a base64 encoded DataURI of type image/webp';\n        }\n        this.frames.push({\n            image: frame,\n            duration: duration || this.duration\n        });\n    };\n\n    function processInWebWorker(_function) {\n        var blob = URL.createObjectURL(new Blob([_function.toString(),\n        'this.onmessage =  function (e) {' + _function.name + '(e.data);}'\n        ], {\n                type: 'application/javascript'\n            }));\n\n        var worker = new Worker(blob);\n        URL.revokeObjectURL(blob);\n        return worker;\n    }\n\n    function whammyInWebWorker(frames) {\n        function ArrayToWebM(frames) {\n            var info = checkFrames(frames);\n            if (!info) {\n                return [];\n            }\n\n            var clusterMaxDuration = 30000;\n\n            var EBML = [{\n                'id': 0x1a45dfa3, // EBML\n                'data': [{\n                    'data': 1,\n                    'id': 0x4286 // EBMLVersion\n                }, {\n                    'data': 1,\n                    'id': 0x42f7 // EBMLReadVersion\n                }, {\n                    'data': 4,\n                    'id': 0x42f2 // EBMLMaxIDLength\n                }, {\n                    'data': 8,\n                    'id': 0x42f3 // EBMLMaxSizeLength\n                }, {\n                    'data': 'webm',\n                    'id': 0x4282 // DocType\n                }, {\n                    'data': 2,\n                    'id': 0x4287 // DocTypeVersion\n                }, {\n                    'data': 2,\n                    'id': 0x4285 // DocTypeReadVersion\n                }]\n            }, {\n                'id': 0x18538067, // Segment\n                'data': [{\n                    'id': 0x1549a966, // Info\n                    'data': [{\n                        'data': 1e6, //do things in millisecs (num of nanosecs for duration scale)\n                        'id': 0x2ad7b1 // TimecodeScale\n                    }, {\n                        'data': 'whammy',\n                        'id': 0x4d80 // MuxingApp\n                    }, {\n                        'data': 'whammy',\n                        'id': 0x5741 // WritingApp\n                    }, {\n                        'data': doubleToString(info.duration),\n                        'id': 0x4489 // Duration\n                    }]\n                }, {\n                    'id': 0x1654ae6b, // Tracks\n                    'data': [{\n                        'id': 0xae, // TrackEntry\n                        'data': [{\n                            'data': 1,\n                            'id': 0xd7 // TrackNumber\n                        }, {\n                            'data': 1,\n                            'id': 0x73c5 // TrackUID\n                        }, {\n                            'data': 0,\n                            'id': 0x9c // FlagLacing\n                        }, {\n                            'data': 'und',\n                            'id': 0x22b59c // Language\n                        }, {\n                            'data': 'V_VP8',\n                            'id': 0x86 // CodecID\n                        }, {\n                            'data': 'VP8',\n                            'id': 0x258688 // CodecName\n                        }, {\n                            'data': 1,\n                            'id': 0x83 // TrackType\n                        }, {\n                            'id': 0xe0, // Video\n                            'data': [{\n                                'data': info.width,\n                                'id': 0xb0 // PixelWidth\n                            }, {\n                                'data': info.height,\n                                'id': 0xba // PixelHeight\n                            }]\n                        }]\n                    }]\n                }]\n            }];\n\n            //Generate clusters (max duration)\n            var frameNumber = 0;\n            var clusterTimecode = 0;\n            while (frameNumber < frames.length) {\n\n                var clusterFrames = [];\n                var clusterDuration = 0;\n                do {\n                    clusterFrames.push(frames[frameNumber]);\n                    clusterDuration += frames[frameNumber].duration;\n                    frameNumber++;\n                } while (frameNumber < frames.length && clusterDuration < clusterMaxDuration);\n\n                var clusterCounter = 0;\n                var cluster = {\n                    'id': 0x1f43b675, // Cluster\n                    'data': getClusterData(clusterTimecode, clusterCounter, clusterFrames)\n                }; //Add cluster to segment\n                EBML[1].data.push(cluster);\n                clusterTimecode += clusterDuration;\n            }\n\n            return generateEBML(EBML);\n        }\n\n        function getClusterData(clusterTimecode, clusterCounter, clusterFrames) {\n            return [{\n                'data': clusterTimecode,\n                'id': 0xe7 // Timecode\n            }].concat(clusterFrames.map(function (webp) {\n                var block = makeSimpleBlock({\n                    discardable: 0,\n                    frame: webp.data.slice(4),\n                    invisible: 0,\n                    keyframe: 1,\n                    lacing: 0,\n                    trackNum: 1,\n                    timecode: Math.round(clusterCounter)\n                });\n                clusterCounter += webp.duration;\n                return {\n                    data: block,\n                    id: 0xa3\n                };\n            }));\n        }\n\n        // sums the lengths of all the frames and gets the duration\n\n        function checkFrames(frames) {\n            if (!frames[0]) {\n                postMessage({\n                    error: 'Something went wrong. Maybe WebP format is not supported in the current browser.'\n                });\n                return;\n            }\n\n            var width = frames[0].width,\n                height = frames[0].height,\n                duration = frames[0].duration;\n\n            for (var i = 1; i < frames.length; i++) {\n                duration += frames[i].duration;\n            }\n            return {\n                duration: duration,\n                width: width,\n                height: height\n            };\n        }\n\n        function numToBuffer(num) {\n            var parts = [];\n            while (num > 0) {\n                parts.push(num & 0xff);\n                num = num >> 8;\n            }\n            return new Uint8Array(parts.reverse());\n        }\n\n        function strToBuffer(str) {\n            return new Uint8Array(str.split('').map(function (e) {\n                return e.charCodeAt(0);\n            }));\n        }\n\n        function bitsToBuffer(bits) {\n            var data = [];\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n            bits = pad + bits;\n            for (var i = 0; i < bits.length; i += 8) {\n                data.push(parseInt(bits.substr(i, 8), 2));\n            }\n            return new Uint8Array(data);\n        }\n\n        function generateEBML(json) {\n            var ebml = [];\n            for (var i = 0; i < json.length; i++) {\n                var data = json[i].data;\n\n                if (typeof data === 'object') {\n                    data = generateEBML(data);\n                }\n\n                if (typeof data === 'number') {\n                    data = bitsToBuffer(data.toString(2));\n                }\n\n                if (typeof data === 'string') {\n                    data = strToBuffer(data);\n                }\n\n                var len = data.size || data.byteLength || data.length;\n                var zeroes = Math.ceil(Math.ceil(Math.log(len) / Math.log(2)) / 8);\n                var sizeToString = len.toString(2);\n                var padded = (new Array((zeroes * 7 + 7 + 1) - sizeToString.length)).join('0') + sizeToString;\n                var size = (new Array(zeroes)).join('0') + '1' + padded;\n\n                ebml.push(numToBuffer(json[i].id));\n                ebml.push(bitsToBuffer(size));\n                ebml.push(data);\n            }\n\n            return new Blob(ebml, {\n                type: 'video/webm'\n            });\n        }\n\n        function toBinStrOld(bits) {\n            var data = '';\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n            bits = pad + bits;\n            for (var i = 0; i < bits.length; i += 8) {\n                data += String.fromCharCode(parseInt(bits.substr(i, 8), 2));\n            }\n            return data;\n        }\n\n        function makeSimpleBlock(data) {\n            var flags = 0;\n\n            if (data.keyframe) {\n                flags |= 128;\n            }\n\n            if (data.invisible) {\n                flags |= 8;\n            }\n\n            if (data.lacing) {\n                flags |= (data.lacing << 1);\n            }\n\n            if (data.discardable) {\n                flags |= 1;\n            }\n\n            if (data.trackNum > 127) {\n                throw 'TrackNumber > 127 not supported';\n            }\n\n            var out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function (e) {\n                return String.fromCharCode(e);\n            }).join('') + data.frame;\n\n            return out;\n        }\n\n        function parseWebP(riff) {\n            var VP8 = riff.RIFF[0].WEBP[0];\n\n            var frameStart = VP8.indexOf('\\x9d\\x01\\x2a'); // A VP8 keyframe starts with the 0x9d012a header\n            for (var i = 0, c = []; i < 4; i++) {\n                c[i] = VP8.charCodeAt(frameStart + 3 + i);\n            }\n\n            var width, height, tmp;\n\n            //the code below is literally copied verbatim from the bitstream spec\n            tmp = (c[1] << 8) | c[0];\n            width = tmp & 0x3FFF;\n            tmp = (c[3] << 8) | c[2];\n            height = tmp & 0x3FFF;\n            return {\n                width: width,\n                height: height,\n                data: VP8,\n                riff: riff\n            };\n        }\n\n        function getStrLength(string, offset) {\n            return parseInt(string.substr(offset + 4, 4).split('').map(function (i) {\n                var unpadded = i.charCodeAt(0).toString(2);\n                return (new Array(8 - unpadded.length + 1)).join('0') + unpadded;\n            }).join(''), 2);\n        }\n\n        function parseRIFF(string) {\n            var offset = 0;\n            var chunks = {};\n\n            while (offset < string.length) {\n                var id = string.substr(offset, 4);\n                var len = getStrLength(string, offset);\n                var data = string.substr(offset + 4 + 4, len);\n                offset += 4 + 4 + len;\n                chunks[id] = chunks[id] || [];\n\n                if (id === 'RIFF' || id === 'LIST') {\n                    chunks[id].push(parseRIFF(data));\n                } else {\n                    chunks[id].push(data);\n                }\n            }\n            return chunks;\n        }\n\n        function doubleToString(num) {\n            return [].slice.call(\n                new Uint8Array((new Float64Array([num])).buffer), 0).map(function (e) {\n                    return String.fromCharCode(e);\n                }).reverse().join('');\n        }\n\n        var webm = new ArrayToWebM(frames.map(function (frame) {\n            var webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\n            webp.duration = frame.duration;\n            return webp;\n        }));\n\n        postMessage(webm);\n    }\n\n    /**\n     * Encodes frames in WebM container. It uses WebWorkinvoke to invoke 'ArrayToWebM' method.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof Whammy\n     * @example\n     * recorder = new Whammy().Video(0.8, 100);\n     * recorder.compile(function(blob) {\n     *    // blob.size - blob.type\n     * });\n     */\n    WhammyVideo.prototype.compile = function (callback) {\n        var webWorker = processInWebWorker(whammyInWebWorker);\n\n        webWorker.onmessage = function (event) {\n            if (event.data.error) {\n                console.error(event.data.error);\n                return;\n            }\n            callback(event.data);\n        };\n\n        webWorker.postMessage(this.frames);\n    };\n\n    return {\n        /**\n         * A more abstract-ish API.\n         * @method\n         * @memberof Whammy\n         * @example\n         * recorder = new Whammy().Video(0.8, 100);\n         * @param {?number} speed - 0.8\n         * @param {?number} quality - 100\n         */\n        Video: WhammyVideo\n    };\n})();\n\nif (typeof MediaStreamRecorder !== 'undefined') {\n    MediaStreamRecorder.Whammy = Whammy;\n}\n\n// Last time updated at Nov 18, 2014, 08:32:23\n\n// Latest file can be found here: https://cdn.webrtc-experiment.com/ConcatenateBlobs.js\n\n// Muaz Khan    - www.MuazKhan.com\n// MIT License  - www.WebRTC-Experiment.com/licence\n// Source Code  - https://github.com/muaz-khan/ConcatenateBlobs\n// Demo         - https://www.WebRTC-Experiment.com/ConcatenateBlobs/\n\n// ___________________\n// ConcatenateBlobs.js\n\n// Simply pass array of blobs.\n// This javascript library will concatenate all blobs in single \"Blob\" object.\n\n(function () {\n    window.ConcatenateBlobs = function (blobs, type, callback) {\n        var buffers = [];\n\n        var index = 0;\n\n        function readAsArrayBuffer() {\n            if (!blobs[index]) {\n                return concatenateBuffers();\n            }\n            var reader = new FileReader();\n            reader.onload = function (event) {\n                buffers.push(event.target.result);\n                index++;\n                readAsArrayBuffer();\n            };\n            reader.readAsArrayBuffer(blobs[index]);\n        }\n\n        readAsArrayBuffer();\n\n        function concatenateBuffers() {\n            var byteLength = 0;\n            buffers.forEach(function (buffer) {\n                byteLength += buffer.byteLength;\n            });\n\n            var tmp = new Uint16Array(byteLength);\n            var lastOffset = 0;\n            buffers.forEach(function (buffer) {\n                // BYTES_PER_ELEMENT == 2 for Uint16Array\n                var reusableByteLength = buffer.byteLength;\n                if (reusableByteLength % 2 != 0) {\n                    buffer = buffer.slice(0, reusableByteLength - 1)\n                }\n                tmp.set(new Uint16Array(buffer), lastOffset);\n                lastOffset += reusableByteLength;\n            });\n\n            var blob = new Blob([tmp.buffer], {\n                type: type\n            });\n\n            callback(blob);\n        }\n    };\n})();\n\n// https://github.com/streamproc/MediaStreamRecorder/issues/42\n// if (typeof module !== 'undefined' /* && !!module.exports*/) {\n//     module.exports = MediaStreamRecorder;\n// }\n\n// if (typeof define === 'function' && define.amd) {\n//     define('MediaStreamRecorder', [], function () {\n//         return MediaStreamRecorder;\n//     });\n// }\nexport {\n    MediaStreamRecorder\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/MediaStreamRecorder.js"],"sourceRoot":""}